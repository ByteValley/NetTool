{
  "id": "ByteValley.ComponentService",
  "name": "组件服务",
  "author": "@ByteValley",
  "description": "各类组件服务数据采集脚本（运营商、App Cookie 等）",
  "icon": "https://github.com/ByteValley/Icon/blob/main/server/DataManagement1.png",
  "repo": "https://github.com/ByteValley/NetTool",
  "apps": [
    {
      "id": "ComponentService.ChinaUnicom",
      "name": "中国联通",
      "descs_html": [
        "用于保存中国联通 App 抓取到的 <code>Cookie</code>，供 Scriptable / 面板组件 / 其他脚本复用。",
        "<b>获取方式：</b><br/>1）打开 <b>中国联通 官方 App</b>；<br/>2）进入首页「流量查询」或其他会触发 <code>/smartwisdomCommon</code> 接口的页面；<br/>3）确保重写与脚本已启用，触发一次请求后，脚本会自动写入变量 <code>ComponentService.ChinaUnicom.Settings.Cookie</code>。",
        "<b>说明：</b><br/>• 本条仅存储 Cookie 完整字符串（包含 JSESSIONID 等），不拆分字段；<br/>• 推荐通过脚本自动抓取，手动填写仅用于调试或紧急情况。"
      ],
      "icons": [
        "https://github.com/ChinaTelecomOperators/ChinaUnicom/releases/download/Prerelease-Alpha/icon.png",
        "https://github.com/ChinaTelecomOperators/ChinaUnicom/releases/download/Prerelease-Alpha/icon.png"
      ],
      "keys": [
        "@ComponentService.ChinaUnicom.Settings",
        "@ComponentService.ChinaUnicom.Caches"
      ],
      "settings": [
        {
          "id": "@ComponentService.ChinaUnicom.Settings.Cookie",
          "name": "联通 Cookie（完整字符串）",
          "type": "text",
          "val": "",
          "placeholder": "建议通过脚本自动抓取，无需手动填写",
          "desc": "脚本会自动写入完整 Cookie 字符串。如需重置，可先清空此字段，再在联通 App 中重新触发抓取流程。"
        }
      ]
    },
    {
      "id": "ComponentService.SGCC",
      "name": "网上国网（95598）",
      "descs_html": [
        "<b>用途：</b>为组件/小组件提供电费、电量、阶梯等数据。<br/>",
        "<b>提示：</b>此脚本需要账号密码登录（部分地区可能触发验证码/滑块等风控）。<br/>",
        "<b>缓存：</b>脚本会将登录凭证缓存到 <code>ComponentService.SGCC.Caches.bizrt</code>，用于减少重复登录。"
      ],
      "icons": [
        "https://is1-ssl.mzstatic.com/image/thumb/Purple116/v4/83/d8/8a/83d88a92-5a4d-7a2f-118c-80d795e7a9f6/AppIcon-0-0-1x_U007emarketing-0-5-0-0-sRGB-85-220.png/144x144.png",
        "https://is1-ssl.mzstatic.com/image/thumb/Purple116/v4/83/d8/8a/83d88a92-5a4d-7a2f-118c-80d795e7a9f6/AppIcon-0-0-1x_U007emarketing-0-5-0-0-sRGB-85-220.png/144x144.png"
      ],
      "keys": [
        "@ComponentService.SGCC.Settings",
        "@ComponentService.SGCC.Caches"
      ],
      "settings": [
        {
          "id": "@ComponentService.SGCC.Settings.logDebug",
          "name": "是否输出调试日志",
          "val": false,
          "type": "boolean",
          "desc": "打开后日志会更详细（排查登录/授权码/加解密失败时有用）。"
        },
        {
          "id": "@ComponentService.SGCC.Settings.phoneNum",
          "name": "账号（手机号）",
          "val": "",
          "type": "text",
          "rows": 1,
          "desc": "网上国网登录手机号"
        },
        {
          "id": "@ComponentService.SGCC.Settings.password",
          "name": "密码",
          "val": "",
          "type": "text",
          "rows": 1,
          "desc": "网上国网登录密码"
        },
        {
          "id": "@ComponentService.SGCC.Settings.notifyType",
          "name": "通知类型（notifyType）",
          "val": "all",
          "type": "text",
          "rows": 1,
          "placeholder": "all / arrears / change / none（建议 all）",
          "desc": "通知策略（脚本可读取该字段决定是否推送）。常见值：all=全部；arrears=仅欠费；change=仅电费变化；none=不通知。"
        },
        {
          "id": "@ComponentService.SGCC.Settings.recentElcFee",
          "name": "电费变动阈值（recentElcFee）",
          "val": 0,
          "type": "number",
          "rows": 1,
          "placeholder": "例如 5（元）",
          "desc": "当 notifyType=change 时，可用于控制电费变化超过该阈值才通知；0 表示不设阈值。"
        },
        {
          "id": "@ComponentService.SGCC.Caches.bizrt",
          "name": "缓存（bizrt）",
          "type": "textarea",
          "rows": 6,
          "val": "{}",
          "placeholder": "脚本自动写入，无需手动修改；需要强制重新登录可清空为 {}",
          "desc": "脚本自动写入登录凭证缓存（token/userInfo 等）。如遇登录异常/频繁失效，可清空此字段后重新触发脚本。"
        }
      ]
    },
    {
      "id": "ComponentService.12123",
      "name": "交管12123",
      "descs_html": [
        "用于保存交管12123抓取到的 <code>Token</code>，供 Scriptable / 面板组件 / 其他脚本复用。",
        "<b>获取方式：</b><br/>1）打开 <b>支付宝小程序 交管12123</b>；<br/>2）进入交管12123会触发；<br/>3）确保重写与脚本已启用，触发一次请求后，脚本会自动写入变量 <code>ComponentService.12123.Settings.token</code>。",
        "<b>说明：</b><br/>• 推荐通过脚本自动抓取，手动填写仅用于调试或紧急情况。"
      ],
      "icons": [
        "https://raw.githubusercontent.com/Nanako718/Scripting/main/images/12123.png",
        "https://raw.githubusercontent.com/Nanako718/Scripting/main/images/12123.png"
      ],
      "keys": [
        "@ComponentService.12123.Settings",
        "@ComponentService.12123.Caches"
      ],
      "settings": [
        {
          "id": "@ComponentService.12123.Settings.token",
          "name": "交管 12123 token（完整字符串）",
          "type": "text",
          "val": "",
          "placeholder": "建议通过脚本自动抓取，无需手动填写",
          "desc": "脚本会自动写入完整 token 字符串。如需重置，可先清空此字段，再重新触发抓取流程。"
        }
      ]
    }
  ]
}