#!name=网络信息
#!desc=直连/入口/落地信息 + 服务检测；脚本接管图标与网络类型；中国 ISP 规范化；多源定位；三态图标/地区样式；台湾旗模式；BoxJS/arguments 可覆盖默认
#!category=功能看板
#!author=ByteValley
#!homepage=https://github.com/ByteValley/NetTool

# =========================
# 参数（可被 BoxJS 覆盖；最后由代码默认兜底）
# =========================
#!arguments=Update:10,Timeout:8,MASK_IP:1,MASK_POS:1,IPv6:0,DOMESTIC_IPv4:ipip,DOMESTIC_IPv6:ddnspod,LANDING_IPv4:ipapi,LANDING_IPv6:ipsb,TW_FLAG_MODE:1,IconPreset:globe,Icon:globe.asia.australia,IconColor:#1E90FF,SD_STYLE:icon,SD_SHOW_LAT:true,SD_SHOW_HTTP:true,SD_LANG:zh-Hans,SD_TIMEOUT_MS:0,SD_REGION_MODE:full,SD_ICON_THEME:check,SD_ARROW:true,SERVICES:'',LOG:false,LOG_LEVEL:info,LOG_TO_PANEL:false,LOG_PUSH:true

# =========================
# 说明（模块分类 + 细项描述）
# =========================
#!arguments-desc=使用说明与参数（BoxJS 优先生效，随后为模块 #!arguments，最后为代码默认）\n\n— 基本 —\n• Update: 面板刷新间隔(秒)。同时联动入口定位缓存 TTL=min(Update,3600)\n• Timeout: 主脚本超时(秒)\n• SD_TIMEOUT_MS: 服务检测单项超时(ms)，0=跟随 Timeout×1000（脚本内最小 2000ms）\n\n— 隐私与显示 —\n• MASK_IP: IP 脱敏(1=是/0=否)\n• MASK_POS: 直连位置脱敏(1=仅旗帜/0=完整)\n• IPv6: 启用 IPv6(1/0)\n• TW_FLAG_MODE: 台湾旗模式(0=🇨🇳/1=🇹🇼/2=🇼🇸)\n• SD_REGION_MODE: 地区样式(full=🇯🇵 JP | 日本 / abbr=🇯🇵JP / flag=仅旗帜)\n• SD_ICON_THEME: 图标主题(check=✅/❇️/❎ | lock=🔓/🔐/🔒 | circle=⭕️/⛔️/🚫)\n• SD_STYLE: 服务检测样式(icon|text)\n• SD_ARROW: 是否用“➟”连接服务名与地区(true|false；false 用“｜”)\n• SD_SHOW_LAT: 显示延迟(true|false)\n• SD_SHOW_HTTP: 显示 HTTP 码(true|false)\n• SD_LANG: 语言(zh-Hans|zh-Hant)\n\n— 数据源 —\n• DOMESTIC_IPv4: ipip|cip|163|bilibili|126|pingan\n• DOMESTIC_IPv6: ddnspod|neu6\n• LANDING_IPv4: ipapi|ipwhois|ipsb\n• LANDING_IPv6: ipsb|ident|ipify\n\n— 图标接管 —\n• IconPreset: 预设图标(wifi|globe|dots|antenna|point|custom)\n• Icon: SF Symbols 名称（当 IconPreset=custom 时生效）\n• IconColor: 图标颜色 HEX\n\n— 服务与别名 —\n• SERVICES: 支持英文/中文逗号(,，)、分号(;)、竖线(|)、斜杠(/)、空白/换行，或 JSON 数组；大小写不敏感；渲染顺序按输入顺序\n• 可用键与常见别名：\n  - YouTube: youtube / yt / youTube / youtube premium / 油管\n  - Netflix: netflix / nf / 奈飞\n  - Disney+: disney / disney+\n  - Hulu(美): hulu / hulu_us / huluus\n  - Hulu(日): hulujp / hulu_jp\n  - Max(HBO): hbo / max / 最大\n  - ChatGPT: chatgpt_app / chatgpt / gpt / openai\n  - ChatGPT Web: chatgpt_web / chatgpt web / chatgpt-web / chatgptweb\n• 选择优先级：BoxJS 勾选(NetworkInfo_SERVICES) > BoxJS 文本(NetworkInfo_SERVICES_TEXT) > 模块 arguments(SERVICES) > 默认(全部)\n\n— 日志与调试 —\n• LOG: 开启日志；LOG_LEVEL: debug|info|warn|error；LOG_TO_PANEL: 面板底部追加“—— 调试 ——”区块（最多近 18 行）；LOG_PUSH: 脚本异常通知\n\n— BoxJS —\n• 托管订阅: https://raw.githubusercontent.com/ByteValley/NetTool/main/BoxJs/Dashboard/panel.boxjs.json\n• 说明: 勾选项与文本框同时存在时，先按勾选数组；为空再回退到文本框；仍为空再回退到 arguments/默认\n\n— 备注 —\n• Netflix 在 text+无箭头 模式下：完整=“已完整解锁”，自制=“仅解锁自制剧”；其他服务统一“已解锁/不可达”\n• 中国境内运营商自动规范化显示（移动/电信/联通/广电/教育网）\n• 标题显示网络类型；第一行显示“代理策略”；入口/落地多源定位与回退\n\n

# =========================
# 脚本绑定（Surge/Loon/QuanX/Egern 兼容型面板）
# =========================
[Script]
网络信息·面板 = type=generic, timeout={{{Timeout}}}, script-path=https://raw.githubusercontent.com/ByteValley/NetTool/main/Scripts/Panel/network_info.js, argument=Update={{{Update}}}&Timeout={{{Timeout}}}&IPv6={{{IPv6}}}&MASK_IP={{{MASK_IP}}}&MASK_POS={{{MASK_POS}}}&DOMESTIC_IPv4={{{DOMESTIC_IPv4}}}&DOMESTIC_IPv6={{{DOMESTIC_IPv6}}}&LANDING_IPv4={{{LANDING_IPv4}}}&LANDING_IPv6={{{LANDING_IPv6}}}&TW_FLAG_MODE={{{TW_FLAG_MODE}}}&IconPreset={{{IconPreset}}}&Icon={{{Icon}}}&IconColor={{{IconColor}}}&SD_STYLE={{{SD_STYLE}}}&SD_SHOW_LAT={{{SD_SHOW_LAT}}}&SD_SHOW_HTTP={{{SD_SHOW_HTTP}}}&SD_LANG={{{SD_LANG}}}&SD_TIMEOUT_MS={{{SD_TIMEOUT_MS}}}&SD_REGION_MODE={{{SD_REGION_MODE}}}&SD_ICON_THEME={{{SD_ICON_THEME}}}&SD_ARROW={{{SD_ARROW}}}&SERVICES={{{SERVICES}}}&LOG={{{LOG}}}&LOG_LEVEL={{{LOG_LEVEL}}}&LOG_TO_PANEL={{{LOG_TO_PANEL}}}&LOG_PUSH={{{LOG_PUSH}}}

# =========================
# 面板定义（更新间隔取自 Update；与入口缓存 TTL 联动）
# =========================
[Panel]
网络信息 𝕏 = script-name=网络信息·面板, update-interval={{{Update}}}
