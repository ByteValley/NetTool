name: 网络信息
description: 直连/入口/落地信息 + 服务检测；接管图标与网络类型；中国 ISP 规范化；多源定位与回退；三态图标/地区样式；台湾旗模式；支持 BoxJS/arguments 覆盖
compat_arguments:
  Update: '10'
  Timeout: '8'
  MASK_IP: '1'
  MASK_POS: '1'
  IPv6: '0'
  DOMESTIC_IPv4: ipip
  DOMESTIC_IPv6: ddnspod
  LANDING_IPv4: ipapi
  LANDING_IPv6: ipsb
  TW_FLAG_MODE: '1'
  IconPreset: globe
  Icon: globe.asia.australia
  IconColor: '#1E90FF'
  SD_STYLE: icon
  SD_SHOW_LAT: '1'
  SD_SHOW_HTTP: '1'
  SD_LANG: zh-Hans
  SD_TIMEOUT_MS: '0'
  SD_REGION_MODE: full
  SD_ICON_THEME: check
  SD_ARROW: '1'
  SERVICES: '[]'
  LOG: '0'
  LOG_LEVEL: info
  LOG_TO_PANEL: '0'
  LOG_PUSH: '1'
  ST_SUBTITLE_STYLE: line
  ST_SUBTITLE_MINIMAL: '0'
  ST_GAP_LINES: '1'
compat_arguments_desc: |-
  使用说明与参数（优先级：BoxJS > 模块 #!arguments > 代码默认）

  — 基本 —
  • Update: 面板刷新间隔(秒)
  • Timeout: 主脚本超时(秒)
  • SD_TIMEOUT_MS: 服务检测单项超时(ms)。填 0 或留空=跟随 Timeout×1000（脚本内最小 2000ms 兜底）

  — 隐私与显示 —
  • MASK_IP: 直连/入口/落地 IP 脱敏(1=是/0=否)
  • MASK_POS: 直连位置脱敏(1=仅旗帜/0=完整)。默认跟随 MASK_IP
  • IPv6: 启用 IPv6(1/0)
  • TW_FLAG_MODE: 台湾旗模式(0=🇨🇳/1=🇹🇼/2=🇼🇸)
  • SD_REGION_MODE: 地区样式(full=🇯🇵 JP | 日本 / abbr=🇯🇵JP / flag=仅旗帜)
  • SD_ICON_THEME: 图标主题(check=✅/❇️/❎ | lock=🔓/🔐/🔒 | circle=⭕️/⛔️/🚫)
  • SD_STYLE: 服务检测样式(icon|text)。text 模式下可选是否使用箭头
  • SD_ARROW: 是否用“➟”连接服务名与地区(true|false；false 用“｜”)
  • SD_SHOW_LAT: 显示延迟(true|false)
  • SD_SHOW_HTTP: 显示 HTTP 码(true|false)
  • SD_LANG: 语言(zh-Hans|zh-Hant)

  — 数据源 —
  • DOMESTIC_IPv4: ipip|cip|163|bilibili|126|pingan
  • DOMESTIC_IPv6: ddnspod|neu6
  • LANDING_IPv4: ipapi|ipwhois|ipsb
  • LANDING_IPv6: ipsb|ident|ipify

  — 图标接管 —
  • IconPreset: wifi|globe|dots|antenna|point|custom（选 custom 时使用下方 Icon）
  • Icon: SF Symbols 名称（留空=用 IconPreset）
  • IconColor: HEX 颜色（如 #1E90FF）

  — 版式（子标题与留白）
  • ST_SUBTITLE_STYLE: 子标题样式
    - line: —— 本地 ——（连线样式）
    - cnBracket: 【 本地 】（中文方头括）
    - cnQuote: 「 本地 」 （中文引号）
    - square: [ 本地 ]（方括号）
    - curly: { 本地 }（花括号）
    - angle: 《 本地 》（书名号）
    - pipe: ║ 本地 ║（竖线框）
    - bullet: · 本地 ·（居中圆点）
    - plain: 本地（纯文本）
  • ST_SUBTITLE_MINIMAL: 纯净子标题(1=仅文字，无任何装饰；0=按 ST_SUBTITLE_STYLE 渲染)
  • ST_GAP_LINES: 分组前留白行数(0/1/2；默认 1)

  — 服务与别名 —
  • SERVICES: 支持英文/中文逗号(,，)、分号(;)、竖线(|)、斜杠(/)、空白/换行，或 JSON 数组；大小写不敏感；渲染顺序按输入顺序。
  • 可用键与常见别名：
    - YouTube: youtube / yt / youTube / youtube premium / 油管
    - Netflix: netflix / nf / 奈飞
    - Disney+: disney / disney+
    - Hulu(美): hulu / 葫芦 / hulu_us / huluus
    - Hulu(日): hulujp / hulu_jp
    - Max(HBO): hbo / max
    - ChatGPT: chatgpt_app / chatgpt / gpt / openai
    - ChatGPT Web: chatgpt_web / chatgpt web / chatgpt-web / chatgptweb
  • 选择优先级：BoxJS 勾选(NetworkInfo_SERVICES) > BoxJS 文本(NetworkInfo_SERVICES_TEXT) > 模块 arguments(SERVICES) > 默认(全部)

  — BoxJS —
  • 托管订阅: https://raw.githubusercontent.com/ByteValley/NetTool/main/BoxJs/Dashboard/panel.boxjs.json
  • 说明: 勾选项与文本框同时存在时，先按勾选数组；为空再回退到文本框；仍为空再回退到 arguments/默认；勾选值“空数组 []”视为“未指定”

  — 备注 —
  • Netflix 在 text+无箭头 模式下：完整=“已完整解锁”，自制=“仅解锁自制剧”；其他服务统一“已解锁/不可达”。
  • 中国境内运营商自动规范化显示（移动/电信/联通/广电/教育网）。
  • 标题显示网络类型；第一行显示“代理策略”；入口/落地多源定位与回退。

  — 常见问题排查 —
  • 若加载失败：先去掉特殊字符(如 面板标题里的 𝕏)、或把 {{...}} 改为 {{{...}}}；逐项恢复定位问题。
  • 若 update-interval 不生效：检查 BoxJS 中 NetworkInfo_Update 是否覆盖；脚本会以 BoxJS 优先。
  • 若 SERVICES 为空又想显示默认：将 SERVICES 留空或设为 [] 即可（脚本会回退到默认全量）。
author: ByteValley
homepage: https://github.com/ByteValley/NetTool
dns: {}
scriptings:
  - generic:
      name: 网络信息·面板
      script_url: https://raw.githubusercontent.com/ByteValley/NetTool/main/Scripts/Panel/network_info.js
      arguments:
        _compat.$argument: Update=10&Timeout=60&IPv6={{IPv6}}&MASK_IP={{MASK_IP}}&MASK_POS={{MASK_POS}}&DOMESTIC_IPv4=ipip&DOMESTIC_IPv6=ddnspod&LANDING_IPv4=ipapi&LANDING_IPv6=ipsb&TW_FLAG_MODE=1&IconPreset=globe&Icon=globe.asia.australia&IconColor=#1E90FF&SD_STYLE=icon&SD_SHOW_LAT={{SD_SHOW_LAT}}&SD_SHOW_HTTP={{SD_SHOW_HTTP}}&SD_LANG=zh-Hans&SD_TIMEOUT_MS=0&SD_REGION_MODE=full&SD_ICON_THEME=check&SD_ARROW={{SD_ARROW}}&SERVICES=[]&LOG={{LOG}}&LOG_LEVEL=info&LOG_TO_PANEL={{LOG_TO_PANEL}}&LOG_PUSH={{LOG_PUSH}}&ST_SUBTITLE_STYLE=line&ST_SUBTITLE_MINIMAL={{ST_SUBTITLE_MINIMAL}}&ST_GAP_LINES=1
      update_interval: 43200
      timeout: 60
panels:
  - name: 网络信息 𝕏
    script_name: 网络信息·面板
    update_interval: 1800